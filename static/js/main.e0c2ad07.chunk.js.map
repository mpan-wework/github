{"version":3,"sources":["components/BlobViewer/NavBar/Container.module.scss","views/BlobViewer.module.scss","components/BlobViewer/NavBar/useLogin.js","components/BlobViewer/NavBar/Container.js","components/shared/useAsyncDebounceCallback.js","components/BlobViewer/Repo/useFindRepo.js","components/BlobViewer/Repo/useReactSelectStyle.js","components/BlobViewer/Repo/Container.js","components/BlobViewer/Path/Container.js","components/BlobViewer/SideBar/TreeNode.js","components/BlobViewer/SideBar/useBlobTree.js","components/BlobViewer/SideBar/Container.js","views/routes.js","views/BlobViewer.js","views/Github.js","App.js","serviceWorker.js","index.js","components/shared/useAsyncMemo.js","utils/store.js","components/BlobViewer/Repo/Container.module.scss","components/shared/useAsyncEffect.js","components/BlobViewer/Blob/Container.module.scss","components/BlobViewer/Path/Container.module.scss","components/BlobViewer/SideBar/TreeNode.module.scss","components/BlobViewer/SideBar/Container.module.scss","service/api/githubFetchClient.js","service/api/octokitClient.js","utils/cache.js","service/api/github.js","components/BlobViewer/Blob/Container.js","components/BlobViewer/Blob/useCodeMirror.js"],"names":["module","exports","useLogin","props","loginCallback","useState","owner","setOwner","store","getItem","token","setToken","handleTokenChange","useCallback","e","target","value","login","a","async","githubClient","user","setItem","setTimeout","logout","NavBar","className","styles","Container","tokenInput","type","placeholder","disabled","onChange","compButton","join","onClick","tutorial","href","rel","useAsyncDebouncedCallback","fn","deps","waitTime","task","setTask","callback","debouncedCallback","args","clearTimeout","Promise","resolve","ret","useFindRepo","repo","setRepo","branch","setBranch","useEffect","ownerOptions","useAsyncMemo","orgs","concat","map","ownerItem","label","toLowerCase","data","loadOwnerOptions","inputValue","qOwners","owners","items","filter","trim","indexOf","handleOwnerChange","loadRepoOptions","scope","org","qRepos","repoItem","name","handleRepoChange","branchOptions","branches","branchItem","loadBranchOptions","handleBranchChange","useReactSelectStyle","colors","useMemo","color","backgroundColor","control","provided","borderColor","dropdownIndicator","indicatorsContainer","indicatorSeparator","visibility","input","loadingIndicator","loadingMessage","menu","border","menuList","menuPortal","noOptionsMessage","option","singleValue","valueContainer","theme","_theme","Repo","onRepoInfoChange","styleProps","ReactSelect","defaultOptions","loadOptions","Path","path","visitPath","handlePathClick","full","paths","pathItems","base","split","forEach","pathItem","push","pop","contentType","parsed","lookup","i","key","TreeNode","tree","currentPath","onBlobClick","isCurrent","current","style","paddingLeft","depth","subs","sub","useBlobTree","blobs","blobTree","root","dirs","blob","parentPath","pos","lastIndexOf","slice","parent","find","dir","treeNode","replace","SideBar","routes","component","setUser","repoInfo","setRepoInfo","setTree","undefined","setBlob","useAsyncEffect","pathBlob","b","BlobViewer","sidebarWrapper","contentWrapper","navBar","Github","route","render","from","to","App","Boolean","window","location","hostname","match","packageJson","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","init","memo","setMemo","_r","localStorage","pathname","_w","createStore","githubFetchClient","get","uri","opts","url","test","fetch","headers","Authorization","resp","ok","json","console","error","_searchQuery","keywords","scopes","recursive","keyword","q","createGithubFetchClient","octokitClient","_octokit","api","request","status","rateLimit","auth","Octokit","createOctokitClient","cache","sessionStorage","used","unescape","encodeURIComponent","JSON","stringify","length","clear","_d","removeItem","_objKey","_expKey","hasItem","exp","Date","now","expires","createCache","_githubFetchClient","blobUrl","parse","body","createGithubClient","Blob","content","setContent","textAreaRef","useRef","useCodeMirror","codeMirrorRef","mimeType","fileType","fromBuffer","Buffer","getDoc","setValue","atob","CodeMirror","display","textArea","ref","fromTextArea","mode","smartIndent","lineWrapping","lineNumbers","readOnly","autofocus"],"mappings":"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","file":"static/js/main.e0c2ad07.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__13MpU\",\"tokenInput\":\"Container_tokenInput__2uTiS\",\"owner\":\"Container_owner__1gdhJ\",\"logout\":\"Container_logout__1fklQ\",\"login\":\"Container_login__z05_i\",\"compButton\":\"Container_compButton__3MFji\",\"tutorial\":\"Container_tutorial__VzJaN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BlobViewer\":\"BlobViewer_BlobViewer__3TjFI\",\"sidebarWrapper\":\"BlobViewer_sidebarWrapper__1w6UP\",\"contentWrapper\":\"BlobViewer_contentWrapper__1s9ME\",\"navBar\":\"BlobViewer_navBar__2yhUq\",\"repo\":\"BlobViewer_repo__3mVXk\",\"path\":\"BlobViewer_path__3ZMUG\",\"blob\":\"BlobViewer_blob__1m_hx\"};","import { useCallback, useState } from 'react';\nimport store from '../../../utils/store';\nimport githubClient from '../../../service/api/github';\n\nconst useLogin = (props) => {\n  const { loginCallback } = props;\n\n  const [owner, setOwner] = useState(null);\n  const [token, setToken] = useState(store.getItem('token', ''));\n\n  const handleTokenChange = useCallback(\n    (e) => {\n      setToken(e.target.value);\n    },\n    [setToken],\n  );\n\n  const login = useCallback(async () => {\n    const user = await githubClient.user(token);\n    if (user) {\n      store.setItem('token', token);\n      setOwner(user);\n      setTimeout(() => loginCallback(user), 0);\n    }\n  }, [token, setOwner, loginCallback]);\n\n  const logout = useCallback(() => {\n    setOwner(null);\n    setTimeout(() => loginCallback(null), 0);\n  }, [setOwner, loginCallback]);\n\n  return [\n    {\n      owner,\n      token,\n    },\n    {\n      handleTokenChange,\n      login,\n      logout,\n    },\n  ];\n};\n\nexport default useLogin;\n","import React from 'react';\nimport styles from './Container.module.scss';\nimport useLogin from './useLogin';\n\nconst NavBar = (props) => {\n  const { loginCallback } = props;\n\n  const [{ owner, token }, { handleTokenChange, login, logout }] = useLogin({\n    loginCallback,\n  });\n\n  return (\n    <div className={styles.Container}>\n      <input\n        className={styles.tokenInput}\n        type=\"text\"\n        placeholder=\"Personal Access Token\"\n        disabled={owner !== null}\n        onChange={handleTokenChange}\n        value={token}\n      />\n      {owner ? (\n        <>\n          <div className={styles.owner}>{owner.login}</div>\n          <div\n            className={[styles.logout, styles.compButton].join(' ')}\n            onClick={logout}\n          >\n            Log Out\n          </div>\n        </>\n      ) : (\n        <>\n          <a\n            className={styles.tutorial}\n            href=\"https://github.com/settings/tokens\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Create Token\n          </a>\n          <div\n            className={[styles.login, styles.compButton].join(' ')}\n            onClick={login}\n          >\n            Log In\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default NavBar;\n","import { useCallback, useState } from 'react';\n\nconst useAsyncDebouncedCallback = (fn, deps = [], waitTime = 1000) => {\n  const [task, setTask] = useState(null);\n  const callback = useCallback(fn, deps);\n  const debouncedCallback = useCallback(\n    async (...args) => {\n      clearTimeout(task);\n      return new Promise((resolve) => {\n        setTask(\n          setTimeout(async () => {\n            const ret = await callback(...args);\n            resolve(ret);\n          }, waitTime),\n        );\n      });\n    },\n    [callback, task, waitTime],\n  );\n\n  return debouncedCallback;\n};\n\nexport default useAsyncDebouncedCallback;\n","import { useCallback, useEffect, useState } from 'react';\nimport githubClient from '../../../service/api/github';\nimport useAsyncMemo from '../../shared/useAsyncMemo';\nimport useAsyncDebouncedCallback from '../../shared/useAsyncDebounceCallback';\n\nconst useFindRepo = (props) => {\n  const { user } = props;\n\n  const [owner, setOwner] = useState(null);\n  const [repo, setRepo] = useState(null);\n  const [branch, setBranch] = useState(null);\n\n  useEffect(() => {\n    if (!user) {\n      setOwner(null);\n      setRepo(null);\n      setBranch(null);\n    }\n  }, [user]);\n\n  const ownerOptions = useAsyncMemo(\n    async () => {\n      if (!user) {\n        return [];\n      }\n\n      const orgs = await githubClient.orgs();\n\n      return [user].concat(orgs).map((ownerItem) => ({\n        label: ownerItem.login,\n        value: ownerItem.login.toLowerCase(),\n        data: ownerItem,\n      }));\n    },\n    [user],\n    [],\n  );\n\n  const loadOwnerOptions = useAsyncDebouncedCallback(\n    async (inputValue) => {\n      const data = await githubClient.qOwners(inputValue);\n      const owners = data.items.map((ownerItem) => ({\n        label: ownerItem.login,\n        value: ownerItem.login.toLowerCase(),\n        data: ownerItem,\n      }));\n      return ownerOptions\n        .filter(\n          (ownerItem) =>\n            inputValue.trim() === '' ||\n            ownerItem.value.indexOf(inputValue.toLowerCase()) > -1,\n        )\n        .concat(owners);\n    },\n    [ownerOptions],\n  );\n\n  const handleOwnerChange = useCallback((value) => {\n    setOwner(value);\n    setRepo(null);\n    setBranch(null);\n  }, []);\n\n  const loadRepoOptions = useAsyncDebouncedCallback(\n    async (inputValue) => {\n      if (!owner) {\n        return [];\n      }\n\n      const scope =\n        owner.data.type === 'User'\n          ? { user: owner.data.login }\n          : { org: owner.data.login };\n\n      const data = await githubClient.qRepos(inputValue, scope);\n      return data.items.map((repoItem) => ({\n        label: repoItem.name,\n        value: repoItem.name,\n        data: repoItem,\n      }));\n    },\n    [owner],\n  );\n\n  const handleRepoChange = useCallback((value) => {\n    setRepo(value);\n    setBranch(null);\n  }, []);\n\n  const branchOptions = useAsyncMemo(async () => {\n    if (!owner || !repo) {\n      return [];\n    }\n\n    const branches = await githubClient.branches(\n      owner.data.login,\n      repo.data.name,\n    );\n    return branches.map((branchItem) => ({\n      label: branchItem.name,\n      value: branchItem.name.toLowerCase(),\n      data: branchItem,\n    }));\n  }, [owner, repo]);\n\n  const loadBranchOptions = useCallback(\n    async (inputValue) => {\n      return branchOptions.filter(\n        (branchItem) =>\n          inputValue.trim() === '' ||\n          branchItem.value.indexOf(inputValue.toLowerCase()) > -1,\n      );\n    },\n    [branchOptions],\n  );\n\n  return [\n    {\n      owner,\n      ownerOptions,\n      repo,\n      branch,\n      branchOptions,\n    },\n    {\n      loadOwnerOptions,\n      handleOwnerChange,\n      loadRepoOptions,\n      handleRepoChange,\n      loadBranchOptions,\n      handleBranchChange: setBranch,\n    },\n  ];\n};\n\nexport default useFindRepo;\n","import { useCallback, useMemo } from 'react';\n\nconst useReactSelectStyle = () => {\n  const colors = useMemo(\n    () => ({\n      color: '#4af626',\n      backgroundColor: '#24292e',\n    }),\n    [],\n  );\n  const styles = useMemo(\n    () => ({\n      control: (provided) => ({\n        ...provided,\n        ...colors,\n        borderColor: '#4af626',\n      }),\n      dropdownIndicator: (provided) => ({\n        ...provided,\n        ...colors,\n      }),\n      indicatorsContainer: (provided) => ({\n        ...provided,\n        ...colors,\n      }),\n      indicatorSeparator: (provided) => ({\n        ...provided,\n        visibility: 'hidden',\n      }),\n      input: (provided) => ({\n        ...provided,\n        ...colors,\n      }),\n      loadingIndicator: (provided) => ({\n        ...provided,\n        ...colors,\n      }),\n      loadingMessage: (provided) => ({\n        ...provided,\n        ...colors,\n      }),\n      menu: (provided) => ({\n        ...provided,\n        ...colors,\n        border: '1px solid #4af626',\n      }),\n      menuList: (provided) => ({\n        ...provided,\n        ...colors,\n      }),\n      menuPortal: (provided) => ({\n        ...provided,\n        ...colors,\n      }),\n      noOptionsMessage: (provided) => ({\n        ...provided,\n        ...colors,\n      }),\n      option: (provided) => ({\n        ...provided,\n        ...colors,\n      }),\n      placeholder: (provided) => ({\n        ...provided,\n        ...colors,\n      }),\n      singleValue: (provided) => ({\n        ...provided,\n        ...colors,\n      }),\n      valueContainer: (provided) => ({\n        ...provided,\n        ...colors,\n      }),\n    }),\n    [colors],\n  );\n\n  const theme = useCallback(\n    (_theme) => ({\n      ..._theme,\n    }),\n    [],\n  );\n\n  return [{ styles, theme }];\n};\n\nexport default useReactSelectStyle;\n","import React, { useEffect } from 'react';\nimport Select from 'react-select/async';\nimport useFindRepo from './useFindRepo';\nimport useReactSelectStyle from './useReactSelectStyle';\nimport styles from './Container.module.scss';\n\nconst Repo = (props) => {\n  const { user, onRepoInfoChange } = props;\n\n  const [\n    { owner, ownerOptions, repo, branch, branchOptions },\n    {\n      loadOwnerOptions,\n      handleOwnerChange,\n      loadRepoOptions,\n      handleRepoChange,\n      loadBranchOptions,\n      handleBranchChange,\n    },\n  ] = useFindRepo({ user });\n\n  useEffect(() => {\n    if (!owner || !repo || !branch) {\n      return;\n    }\n\n    setTimeout(\n      () =>\n        onRepoInfoChange({\n          owner,\n          repo,\n          branch,\n        }),\n      0,\n    );\n  }, [onRepoInfoChange, owner, repo, branch]);\n\n  const [styleProps] = useReactSelectStyle();\n\n  return (\n    <div className={styles.Container}>\n      <Select\n        className={styles.ReactSelect}\n        value={owner}\n        defaultOptions={ownerOptions}\n        loadOptions={loadOwnerOptions}\n        onChange={handleOwnerChange}\n        placeholder=\"User / Organization\"\n        {...styleProps}\n      />\n      <Select\n        className={styles.ReactSelect}\n        value={repo}\n        loadOptions={loadRepoOptions}\n        onChange={handleRepoChange}\n        placeholder=\"Repo\"\n        {...styleProps}\n      />\n      <Select\n        className={styles.ReactSelect}\n        value={branch}\n        defaultOptions={branchOptions}\n        loadOptions={loadBranchOptions}\n        onChange={handleBranchChange}\n        placeholder=\"Branch\"\n        {...styleProps}\n      />\n    </div>\n  );\n};\n\nexport default Repo;\n","import React, { useCallback, useMemo } from 'react';\nimport { lookup } from 'mime-types';\nimport styles from './Container.module.scss';\n\nconst Path = (props) => {\n  const { path, visitPath } = props;\n\n  const handlePathClick = useCallback(({ full }) => () => visitPath(full), [\n    visitPath,\n  ]);\n\n  const paths = useMemo(() => {\n    const pathItems = [\n      {\n        label: '/',\n        full: '/',\n      },\n    ];\n\n    if (!path) {\n      return pathItems;\n    }\n\n    let base = '';\n    path.split('/').forEach((pathItem) => {\n      pathItems.push(\n        {\n          label: pathItem,\n          full: `${base}${pathItem}`,\n        },\n        {\n          label: '/',\n          full: `${base}${pathItem}`,\n        },\n      );\n      base = `${base}${pathItem}/`;\n    });\n    pathItems.pop();\n\n    return pathItems;\n  }, [path]);\n\n  const contentType = useMemo(() => {\n    const parsed = lookup(path);\n    return parsed ? `(${parsed})` : '';\n  }, [path]);\n\n  return (\n    <div className={styles.Container}>\n      {paths.map((pathItem, i) => (\n        <div\n          key={`${pathItem.full}${i}`}\n          className={styles.path}\n          onClick={handlePathClick(pathItem)}\n        >\n          {pathItem.label}\n        </div>\n      ))}\n      <div>{contentType}</div>\n    </div>\n  );\n};\n\nexport default Path;\n","import React, { useCallback, useMemo } from 'react';\nimport styles from './TreeNode.module.scss';\n\nconst TreeNode = (props) => {\n  const { tree, currentPath, visitPath, className } = props;\n\n  const onBlobClick = useCallback(() => visitPath(tree.path), [\n    tree,\n    visitPath,\n  ]);\n\n  const isCurrent = useMemo(() => currentPath.indexOf(tree.path) === -1, [\n    currentPath,\n    tree,\n  ]);\n\n  return (\n    <>\n      <div\n        className={[\n          className,\n          styles.TreeNode,\n          isCurrent ? '' : styles.current,\n        ].join(' ')}\n        onClick={onBlobClick}\n        style={{ paddingLeft: `${tree.depth}rem` }}\n      >\n        {tree.name}\n      </div>\n      {tree.subs.map((sub) => (\n        <TreeNode\n          key={sub.path}\n          tree={sub}\n          currentPath={currentPath}\n          visitPath={visitPath}\n        />\n      ))}\n    </>\n  );\n};\n\nexport default TreeNode;\n","import { useMemo } from 'react';\n\nconst useBlobTree = (props) => {\n  const { blobs } = props;\n\n  const blobTree = useMemo(() => {\n    const root = {\n      path: '/',\n      name: '/',\n      subs: [],\n      depth: 0,\n    };\n    const dirs = [root];\n    blobs.forEach((blob) => {\n      let parentPath = null;\n      const pos = blob.path.lastIndexOf('/');\n      if (pos === -1) {\n        parentPath = '/';\n      } else {\n        parentPath = blob.path.slice(0, pos);\n      }\n      const parent = dirs.find((dir) => dir.path === parentPath);\n\n      const treeNode = {\n        ...blob,\n        name: blob.path.replace(/^.+\\//, ''),\n        subs: [],\n        depth: parent.depth + 1,\n      };\n      parent.subs.push(treeNode);\n      if (blob.type === 'tree') {\n        dirs.push(treeNode);\n      }\n    });\n    return root;\n  }, [blobs]);\n\n  return [{ blobTree }];\n};\n\nexport default useBlobTree;\n","import React from 'react';\nimport TreeNode from './TreeNode';\nimport styles from './Container.module.scss';\nimport useBlobTree from './useBlobTree';\n\nconst SideBar = (props) => {\n  const { tree, blob, visitPath } = props;\n\n  const [{ blobTree }] = useBlobTree({\n    blobs: tree ? tree.tree : [],\n  });\n\n  return (\n    <div className={styles.Container}>\n      <TreeNode\n        className={styles.current}\n        tree={blobTree}\n        currentPath={blob ? blob.path : '/'}\n        visitPath={visitPath}\n      />\n    </div>\n  );\n};\n\nexport default SideBar;\n","import BlobViewer from './BlobViewer';\n\nconst routes = [\n  {\n    path: '/blob-viewer',\n    component: BlobViewer,\n  },\n];\n\nexport default routes;\n","import React, { useCallback, useEffect, useState } from 'react';\nimport Blob from '../components/BlobViewer/Blob/Container';\nimport NavBar from '../components/BlobViewer/NavBar/Container';\nimport Repo from '../components/BlobViewer/Repo/Container';\nimport Path from '../components/BlobViewer/Path/Container';\nimport SideBar from '../components/BlobViewer/SideBar/Container';\nimport githubClient from '../service/api/github';\nimport styles from './BlobViewer.module.scss';\nimport useAsyncEffect from '../components/shared/useAsyncEffect';\n\nconst BlobViewer = () => {\n  const [user, setUser] = useState(null);\n  const [repoInfo, setRepoInfo] = useState(null);\n  const [tree, setTree] = useState(null);\n  const [blob, setBlob] = useState(undefined);\n\n  useEffect(() => {\n    if (!user) {\n      setRepoInfo(null);\n      setTree(null);\n      setBlob(undefined);\n    }\n  }, [user]);\n\n  useAsyncEffect(async () => {\n    if (repoInfo) {\n      const data = await githubClient.tree(\n        repoInfo.owner.value,\n        repoInfo.repo.value,\n        repoInfo.branch.value,\n      );\n      setTree(data);\n    }\n  }, [repoInfo]);\n\n  const visitPath = useCallback(\n    (path) => {\n      if (tree) {\n        const pathBlob = tree.tree.find((b) => b.path === path);\n        if (pathBlob) {\n          setBlob({ ...pathBlob, path });\n        } else {\n          setBlob(undefined);\n        }\n      } else {\n        setBlob(undefined);\n      }\n    },\n    [tree],\n  );\n\n  return (\n    <div className={styles.BlobViewer}>\n      <div className={styles.sidebarWrapper}>\n        <SideBar tree={tree} blob={blob} visitPath={visitPath} />\n      </div>\n      <div className={styles.contentWrapper}>\n        <div className={styles.navBar}>\n          <NavBar loginCallback={setUser} />\n        </div>\n        <div className={styles.repo}>\n          <Repo user={user} onRepoInfoChange={setRepoInfo} />\n        </div>\n        <div className={styles.path}>\n          <Path path={blob ? blob.path : ''} visitPath={visitPath} />\n        </div>\n        <div className={styles.blob}>\n          <Blob blob={blob} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BlobViewer;\n","import React from 'react';\nimport { HashRouter, Redirect, Route, Switch } from 'react-router-dom';\nimport routes from './routes';\n\nconst Github = () => {\n  return (\n    <HashRouter>\n      <Switch>\n        {routes.map((route) => (\n          <Route\n            key={route.path}\n            path={route.path}\n            render={(props) => <route.component {...props} />}\n          />\n        ))}\n        <Redirect from=\"*\" to=\"/blob-viewer/\" />\n      </Switch>\n    </HashRouter>\n  );\n};\n\nexport default Github;\n","import React from 'react';\nimport Github from './views/Github';\n\nconst App = () => <Github />;\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.info(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      // eslint-disable-next-line no-param-reassign\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.info(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.info('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.info(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport '../node_modules/codemirror/lib/codemirror.css';\nimport '../node_modules/codemirror/theme/the-matrix.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport packageJson from '../package.json';\n\nwindow.packageJson = packageJson;\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { useEffect, useState } from 'react';\n\nconst useAsyncMemo = (fn, deps = [], init = null) => {\n  const [memo, setMemo] = useState(init);\n\n  useEffect(\n    () => {\n      Promise.resolve()\n        .then(fn)\n        .then(setMemo);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    deps,\n  );\n\n  return memo;\n};\n\nexport default useAsyncMemo;\n","const createStore = () => {\n  const _r = (...args) => window.localStorage.getItem(...args);\n  const _w = (...args) => window.localStorage.setItem(...args);\n\n  const getItem = (key, value = null) =>\n    _r(`${window.location.pathname}:${key}`) || value;\n\n  const setItem = (key, value) =>\n    _w(`${window.location.pathname}:${key}`, value);\n\n  return {\n    getItem,\n    setItem,\n  };\n};\n\nconst store = createStore();\n\nexport default store;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__1PsPU\",\"ReactSelect\":\"Container_ReactSelect__2qTby\"};","import { useEffect } from 'react';\n\nconst useAsyncEffect = (fn, deps) => {\n  useEffect(\n    () => {\n      Promise.resolve().then(fn);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    deps,\n  );\n};\n\nexport default useAsyncEffect;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__1xchs\",\"CodeMirror\":\"Container_CodeMirror__35fGV\",\"textArea\":\"Container_textArea__3rPsr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__3yJhZ\",\"path\":\"Container_path__1ZK6-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TreeNode\":\"TreeNode_TreeNode__3DTfP\",\"current\":\"TreeNode_current__3BBzQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__39U8O\",\"current\":\"Container_current__2B6TT\"};","import store from '../../utils/store';\n\nconst createGithubFetchClient = () => {\n  const get = async (uri, opts = {}) => {\n    const url = /^https:/.test(uri) ? uri : `https://api.github.com${uri}`;\n    try {\n      const resp = await window.fetch(url, {\n        headers: {\n          Authorization: `token ${store.getItem('token')}`,\n          ...opts.headers,\n        },\n      });\n      return resp.ok ? resp.json() : null;\n    } catch (err) {\n      console.error(err);\n      return null;\n    }\n  };\n\n  const user = async (token) =>\n    get('/user', {\n      headers: { Authorization: `token ${token}` },\n    });\n\n  const orgs = async () => get('/user/orgs');\n\n  const tree = async (owner, repo, branch, recursive = true) => {\n    return get(\n      `/repos/${owner}/${repo}/git/trees/${branch}${\n        recursive ? '?recursive=1' : ''\n      }`,\n    );\n  };\n\n  const branches = async (owner, repo) =>\n    get(`/repos/${owner}/${repo}/branches`);\n\n  const _searchQuery = (keywords = [], scopes = []) => {\n    return [...keywords, ...scopes].join('+');\n  };\n\n  const qOwners = async (keyword) => {\n    const q = _searchQuery([keyword], ['in:login', 'type:user', 'type:org']);\n    return get(`/search/users?q=${q}`);\n  };\n\n  const qRepos = async (keyword, scope) => {\n    const q = _searchQuery(\n      [keyword],\n      ['in:name', scope.org ? `org:${scope.org}` : `user:${scope.user}`],\n    );\n    return get(`/search/repositories?q=${q}`);\n  };\n\n  return {\n    get,\n    user,\n    orgs,\n    tree,\n    branches,\n    qOwners,\n    qRepos,\n  };\n};\n\nconst githubFetchClient = createGithubFetchClient();\n\nexport default githubFetchClient;\n","import { Octokit } from '@octokit/rest';\n\nconst createOctokitClient = () => {\n  let _octokit = null;\n\n  const api = async (url) => {\n    if (!_octokit) {\n      console.error('Octokit missing!');\n      return null;\n    }\n\n    const resp = await _octokit.request(url);\n    if (resp.status < 200 || resp.status >= 300) {\n      console.error(resp);\n      return null;\n    }\n    return resp.data;\n  };\n\n  const user = async (auth) => {\n    _octokit = new Octokit({ auth });\n    rateLimit();\n    return api('/user');\n  };\n\n  const rateLimit = async () => _octokit?.rateLimit.get();\n\n  return {\n    user,\n    rateLimit,\n  };\n};\n\nconst octokitClient = createOctokitClient();\n\nexport default octokitClient;\n","const createCache = () => {\n  const _r = (...args) => window.sessionStorage.getItem(...args);\n  const quota = 1024 * 1024 * 4; // 5MB actually\n  const _w = (...args) => {\n    const used = unescape(encodeURIComponent(JSON.stringify(sessionStorage)))\n      .length;\n    if (used > quota) {\n      window.sessionStorage.clear();\n    }\n    window.sessionStorage.setItem(...args);\n  };\n  const _d = (...args) => window.sessionStorage.removeItem(...args);\n  const _objKey = (key) => `${window.location.pathname}:${key}`;\n  const _expKey = (key) => `${window.location.pathname}:${key}:expires`;\n  const _hour = 1000 * 60 * 60;\n\n  const removeItem = (key) => {\n    _d(_objKey(key));\n    _d(_expKey(key));\n  };\n\n  const hasItem = (key) => {\n    const exp = _r(_expKey(key));\n    if (!exp) {\n      return false;\n    }\n\n    if (Date.now() < exp) {\n      return true;\n    }\n\n    removeItem(key);\n    return false;\n  };\n\n  const getItem = (key, value = null) => {\n    return hasItem(key) ? _r(_objKey(key)) || value : value;\n  };\n\n  const setItem = (key, value, expires = _hour) => {\n    _w(_objKey(key), value);\n    _w(_expKey(key), Date.now() + expires);\n  };\n\n  return {\n    hasItem,\n    getItem,\n    setItem,\n  };\n};\n\nconst cache = createCache();\n\nexport default cache;\n","import githubFetchClient from './githubFetchClient';\nimport octokitClient from './octokitClient';\nimport cache from '../../utils/cache';\n\nconst createGithubClient = () => {\n  const _octokitClient = octokitClient;\n  const _githubFetchClient = githubFetchClient;\n\n  const { user } = _octokitClient;\n\n  const { get, orgs, tree, branches, qOwners, qRepos } = _githubFetchClient;\n\n  const blob = async (blobUrl) => {\n    if (cache.hasItem(blobUrl)) {\n      return JSON.parse(cache.getItem(blobUrl));\n    }\n\n    const body = await get(blobUrl);\n    cache.setItem(blobUrl, JSON.stringify(body));\n    return body;\n  };\n\n  return {\n    user,\n    orgs,\n    tree,\n    blob,\n    branches,\n    qOwners,\n    qRepos,\n  };\n};\n\nconst githubClient = createGithubClient();\n\nexport default githubClient;\n","import React, { useEffect, useMemo, useRef, useState } from 'react';\nimport fileType from 'file-type';\nimport { lookup } from 'mime-types';\nimport useAsyncMemo from '../../shared/useAsyncMemo';\nimport useAsyncEffect from '../../shared/useAsyncEffect';\nimport useCodeMirror from './useCodeMirror';\nimport githubClient from '../../../service/api/github';\nimport styles from './Container.module.scss';\n\nconst Blob = (props) => {\n  const { blob = {} } = props;\n  const [content, setContent] = useState(null);\n\n  const contentType = useMemo(() => {\n    if (!blob.path) {\n      return '';\n    }\n\n    return lookup(blob.path);\n  }, [blob]);\n\n  useAsyncEffect(async () => {\n    if (/image/.test(contentType)) {\n      setContent(null);\n    } else if (!blob.url) {\n      setContent(null);\n    } else {\n      const data = await githubClient.blob(blob.url);\n      if (data.content) {\n        setContent(data.content);\n      } else {\n        setContent(null);\n      }\n    }\n  }, [contentType, blob]);\n\n  const textAreaRef = useRef(null);\n  const [{ codeMirrorRef }] = useCodeMirror({ textAreaRef });\n\n  const mimeType = useAsyncMemo(\n    async () => {\n      if (!content) {\n        return '';\n      }\n\n      return fileType.fromBuffer(Buffer.from(content, 'base64'));\n    },\n    [content],\n    '',\n  );\n\n  useEffect(() => {\n    if (!content) {\n      return;\n    }\n\n    content &&\n      codeMirrorRef.current &&\n      codeMirrorRef.current.getDoc().setValue(window.atob(content));\n  }, [codeMirrorRef, content]);\n\n  return (\n    <main className={styles.Container}>\n      <div>{JSON.stringify(mimeType)}</div>\n      <div\n        className={styles.CodeMirror}\n        style={content ? {} : { display: 'none' }}\n      >\n        <textarea className={styles.textArea} ref={textAreaRef} />\n      </div>\n    </main>\n  );\n};\n\nexport default Blob;\n","import { useEffect, useRef } from 'react';\nimport CodeMirror from 'codemirror';\n\nconst useCodeMirror = ({ textAreaRef }) => {\n  const codeMirrorRef = useRef(null);\n\n  useEffect(() => {\n    if (codeMirrorRef.current && !textAreaRef.current) {\n      return;\n    }\n    codeMirrorRef.current = CodeMirror.fromTextArea(textAreaRef.current, {\n      mode: 'javascript',\n      theme: 'the-matrix',\n      smartIndent: true,\n      lineWrapping: true,\n      lineNumbers: true,\n      readOnly: true,\n      autofocus: true,\n    });\n  }, [textAreaRef, codeMirrorRef]);\n\n  return [{ codeMirrorRef }];\n};\n\nexport default useCodeMirror;\n"],"sourceRoot":""}
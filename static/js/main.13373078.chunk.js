(this["webpackJsonp@mpan-wework/github"]=this["webpackJsonp@mpan-wework/github"]||[]).push([[0],{11:function(e,t,n){e.exports={Container:"Container_Container__13MpU",tokenInput:"Container_tokenInput__2uTiS",owner:"Container_owner__1gdhJ",logout:"Container_logout__1fklQ",login:"Container_login__z05_i",compButton:"Container_compButton__3MFji",tutorial:"Container_tutorial__VzJaN"}},159:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(14),o=n.n(c),u=(n(80),n(81),n(82),n(72)),s=n(13),i=n(4),l=n(2),f=n.n(l),p=n(3),b=n(66),h=n(11),d=n.n(h),m={getItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return window.localStorage.getItem("".concat(window.location.pathname,":").concat(e))||t},setItem:function(e,t){return window.localStorage.setItem("".concat(window.location.pathname,":").concat(e),t)}},v=n(51),O=function(){var e=function(e){var t,n,r,a=arguments;return f.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:{},n=/^https:/.test(e)?e:"https://api.github.com".concat(e),c.prev=2,c.next=5,f.a.awrap(window.fetch(n,{headers:Object(i.a)({Authorization:"token ".concat(m.getItem("token"))},t.headers)}));case 5:return r=c.sent,c.abrupt("return",r.ok?r.json():null);case 9:return c.prev=9,c.t0=c.catch(2),console.error(c.t0),c.abrupt("return",null);case 13:case"end":return c.stop()}}),null,null,[[2,9]])},t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[].concat(Object(v.a)(e),Object(v.a)(t)).join("+")};return{get:e,user:function(t){return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e("/user",{headers:{Authorization:"token ".concat(t)}}));case 1:case"end":return n.stop()}}))},orgs:function(){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e("/user/orgs"));case 1:case"end":return t.stop()}}))},tree:function(t,n,r){var a,c=arguments;return f.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return a=!(c.length>3&&void 0!==c[3])||c[3],o.abrupt("return",e("/repos/".concat(t,"/").concat(n,"/git/trees/").concat(r).concat(a?"?recursive=1":"")));case 2:case"end":return o.stop()}}))},branches:function(t,n){return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",e("/repos/".concat(t,"/").concat(n,"/branches")));case 1:case"end":return r.stop()}}))},qOwners:function(n){var r;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return r=t([n],["in:login","type:user","type:org"]),a.abrupt("return",e("/search/users?q=".concat(r)));case 2:case"end":return a.stop()}}))},qRepos:function(n,r){var a;return f.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return a=t([n],["in:name",r.org?"org:".concat(r.org):"user:".concat(r.user)]),c.abrupt("return",e("/search/repositories?q=".concat(a)));case 2:case"end":return c.stop()}}))}}}(),g=n(70),j=function(){var e=null,t=function(t){var n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=3;break}return console.error("Octokit missing!"),r.abrupt("return",null);case 3:return r.next=5,f.a.awrap(e.request(t));case 5:if(!((n=r.sent).status<200||n.status>=300)){r.next=9;break}return console.error(n),r.abrupt("return",null);case 9:return r.abrupt("return",n.data);case 10:case"end":return r.stop()}}))},n=function(){var t;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",null===(t=e)||void 0===t?void 0:t.rateLimit.get());case 1:case"end":return n.stop()}}))};return{user:function(r){return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=new g.Octokit({auth:r}),n(),a.abrupt("return",t("/user"));case 3:case"end":return a.stop()}}))},rateLimit:n}}(),w=function(){var e=O,t=j.user,n=e.get;return{user:t,orgs:e.orgs,tree:e.tree,blob:function(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n(e));case 1:case"end":return t.stop()}}))},branches:e.branches,qOwners:e.qOwners,qRepos:e.qRepos}}(),C=function(e){var t=e.loginCallback,n=Object(r.useState)(null),a=Object(p.a)(n,2),c=a[0],o=a[1],u=Object(r.useState)(m.getItem("token","")),s=Object(p.a)(u,2),i=s[0],l=s[1],b=Object(r.useCallback)((function(e){l(e.target.value)}),[l]),h=Object(r.useCallback)((function(){var e;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.awrap(w.user(i));case 2:(e=n.sent)&&(m.setItem("token",i),o(e),setTimeout((function(){return t(e)}),0));case 4:case"end":return n.stop()}}))}),[i,o,t]),d=Object(r.useCallback)((function(){o(null),setTimeout((function(){return t(null)}),0)}),[o,t]);return[{owner:c,token:i},{handleTokenChange:b,login:h,logout:d}]},_=function(e){var t=e.loginCallback,n=C({loginCallback:t}),r=Object(p.a)(n,2),c=r[0],o=c.owner,u=c.token,s=r[1],i=s.handleTokenChange,l=s.login,f=s.logout;return a.a.createElement("div",{className:d.a.Container},a.a.createElement("input",{className:d.a.tokenInput,type:"text",placeholder:"Personal Access Token",disabled:null!==o,onChange:i,value:u}),o?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:d.a.owner},o.login),a.a.createElement("div",{className:[d.a.logout,d.a.compButton].join(" "),onClick:f},"Log Out")):a.a.createElement(a.a.Fragment,null,a.a.createElement("a",{className:d.a.tutorial,href:"https://github.com/settings/tokens",target:"_blank",rel:"noopener noreferrer"},"Create Token"),a.a.createElement("div",{className:[d.a.login,d.a.compButton].join(" "),onClick:l},"Log In")))},x=n(41),k=n(26),E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,a=Object(r.useState)(null),c=Object(p.a)(a,2),o=c[0],u=c[1],s=Object(r.useCallback)(e,t),i=Object(r.useCallback)((function(){var e,t,r,a=arguments;return f.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:for(e=a.length,t=new Array(e),r=0;r<e;r++)t[r]=a[r];return clearTimeout(o),c.abrupt("return",new Promise((function(e){u(setTimeout((function(){var n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,f.a.awrap(s.apply(void 0,t));case 2:n=r.sent,e(n);case 4:case"end":return r.stop()}}))}),n))})));case 3:case"end":return c.stop()}}))}),[s,o,n]);return i},y=function(e){var t=e.user,n=Object(r.useState)(null),a=Object(p.a)(n,2),c=a[0],o=a[1],u=Object(r.useState)(null),s=Object(p.a)(u,2),i=s[0],l=s[1],b=Object(r.useState)(null),h=Object(p.a)(b,2),d=h[0],m=h[1];Object(r.useEffect)((function(){t||(o(null),l(null),m(null))}),[t]);var v=Object(k.a)((function(){var e;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return",[]);case 2:return n.next=4,f.a.awrap(w.orgs());case 4:return e=n.sent,n.abrupt("return",[t].concat(e).map((function(e){return{label:e.login,value:e.login.toLowerCase(),data:e}})));case 6:case"end":return n.stop()}}))}),[t],[]),O=E((function(e){var t,n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,f.a.awrap(w.qOwners(e));case 2:return t=r.sent,n=t.items.map((function(e){return{label:e.login,value:e.login.toLowerCase(),data:e}})),r.abrupt("return",v.filter((function(t){return""===e.trim()||t.value.indexOf(e.toLowerCase())>-1})).concat(n));case 5:case"end":return r.stop()}}))}),[v]),g=Object(r.useCallback)((function(e){o(e),l(null),m(null)}),[]),j=E((function(e){var t,n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(c){r.next=2;break}return r.abrupt("return",[]);case 2:return t="User"===c.data.type?{user:c.data.login}:{org:c.data.login},r.next=5,f.a.awrap(w.qRepos(e,t));case 5:return n=r.sent,r.abrupt("return",n.items.map((function(e){return{label:e.name,value:e.name,data:e}})));case 7:case"end":return r.stop()}}))}),[c]),C=Object(r.useCallback)((function(e){l(e),m(null)}),[]),_=Object(k.a)((function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(c&&i){t.next=2;break}return t.abrupt("return",[]);case 2:return t.next=4,f.a.awrap(w.branches(c.data.login,i.data.name));case 4:return e=t.sent,t.abrupt("return",e.map((function(e){return{label:e.name,value:e.name.toLowerCase(),data:e}})));case 6:case"end":return t.stop()}}))}),[c,i]),x=Object(r.useCallback)((function(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",_.filter((function(t){return""===e.trim()||t.value.indexOf(e.toLowerCase())>-1})));case 1:case"end":return t.stop()}}))}),[_]);return[{owner:c,ownerOptions:v,repo:i,branch:d,branchOptions:_},{loadOwnerOptions:O,handleOwnerChange:g,loadRepoOptions:j,handleRepoChange:C,loadBranchOptions:x,handleBranchChange:m}]},N=function(){var e=Object(r.useMemo)((function(){return{color:"#4af626",backgroundColor:"#24292e"}}),[]);return[{styles:Object(r.useMemo)((function(){return{control:function(t){return Object(i.a)({},t,{},e,{borderColor:"#4af626"})},dropdownIndicator:function(t){return Object(i.a)({},t,{},e)},indicatorsContainer:function(t){return Object(i.a)({},t,{},e)},indicatorSeparator:function(e){return Object(i.a)({},e,{visibility:"hidden"})},input:function(t){return Object(i.a)({},t,{},e)},loadingIndicator:function(t){return Object(i.a)({},t,{},e)},loadingMessage:function(t){return Object(i.a)({},t,{},e)},menu:function(t){return Object(i.a)({},t,{},e,{border:"1px solid #4af626"})},menuList:function(t){return Object(i.a)({},t,{},e)},menuPortal:function(t){return Object(i.a)({},t,{},e)},noOptionsMessage:function(t){return Object(i.a)({},t,{},e)},option:function(t){return Object(i.a)({},t,{},e)},placeholder:function(t){return Object(i.a)({},t,{},e)},singleValue:function(t){return Object(i.a)({},t,{},e)},valueContainer:function(t){return Object(i.a)({},t,{},e)}}}),[e]),theme:Object(r.useCallback)((function(e){return Object(i.a)({},e)}),[])}]},T=n(28),B=n.n(T),S=function(e){var t=e.user,n=e.onRepoInfoChange,c=y({user:t}),o=Object(p.a)(c,2),u=o[0],s=u.owner,i=u.ownerOptions,l=u.repo,f=u.branch,b=u.branchOptions,h=o[1],d=h.loadOwnerOptions,m=h.handleOwnerChange,v=h.loadRepoOptions,O=h.handleRepoChange,g=h.loadBranchOptions,j=h.handleBranchChange;Object(r.useEffect)((function(){s&&l&&f&&setTimeout((function(){return n({owner:s,repo:l,branch:f})}),0)}),[n,s,l,f]);var w=N(),C=Object(p.a)(w,1)[0];return a.a.createElement("div",{className:B.a.Container},a.a.createElement(x.a,Object.assign({className:B.a.ReactSelect,value:s,defaultOptions:i,loadOptions:d,onChange:m,placeholder:"User / Organization"},C)),a.a.createElement(x.a,Object.assign({className:B.a.ReactSelect,value:l,loadOptions:v,onChange:O,placeholder:"Repo"},C)),a.a.createElement(x.a,Object.assign({className:B.a.ReactSelect,value:f,defaultOptions:b,loadOptions:g,onChange:j,placeholder:"Branch"},C)))},P=n(71),R=n(47),I=n.n(R),M=function(e){var t=e.path,n=e.visitPath,c=Object(r.useCallback)((function(e){var t=e.full;return function(){return n(t)}}),[n]),o=Object(r.useMemo)((function(){var e=[{label:"/",full:"/"}];if(!t)return e;var n="";return t.split("/").forEach((function(t){e.push({label:t,full:"".concat(n).concat(t)},{label:"/",full:"".concat(n).concat(t)}),n="".concat(n).concat(t,"/")})),e.pop(),e}),[t]),u=Object(r.useMemo)((function(){var e=Object(P.lookup)(t);return e?"(".concat(e,")"):""}),[t]);return a.a.createElement("div",{className:I.a.Container},o.map((function(e,t){return a.a.createElement("div",{key:"".concat(e.full).concat(t),className:I.a.path,onClick:c(e)},e.label)})),a.a.createElement("div",null,u))},q=n(48),L=n.n(q),A=function e(t){var n=t.tree,c=t.currentPath,o=t.visitPath,u=t.className,s=Object(r.useCallback)((function(){return o(n.path)}),[n,o]),i=Object(r.useMemo)((function(){return-1===c.indexOf(n.path)}),[c,n]);return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:[u,L.a.TreeNode,i?"":L.a.current].join(" "),onClick:s,style:{paddingLeft:"".concat(n.depth,"rem")}},n.name),n.subs.map((function(t){return a.a.createElement(e,{key:t.path,tree:t,currentPath:c,visitPath:o})})))},V=n(49),W=n.n(V),z=function(e){var t=e.blobs;return[{blobTree:Object(r.useMemo)((function(){var e={path:"/",name:"/",subs:[],depth:0},n=[e];return t.forEach((function(e){var t=null,r=e.path.lastIndexOf("/");t=-1===r?"/":e.path.slice(0,r);var a=n.find((function(e){return e.path===t})),c=Object(i.a)({},e,{name:e.path.replace(/^.+\//,""),subs:[],depth:a.depth+1});a.subs.push(c),"tree"===e.type&&n.push(c)})),e}),[t])}]},J=function(e){var t=e.tree,n=e.blob,r=e.visitPath,c=z({blobs:t?t.tree:[]}),o=Object(p.a)(c,1)[0].blobTree;return a.a.createElement("div",{className:W.a.Container},a.a.createElement(A,{className:W.a.current,tree:o,currentPath:n?n.path:"/",visitPath:r}))},U=n(40),F=n.n(U),D=function(e,t){Object(r.useEffect)((function(){Promise.resolve().then(e)}),t)},Q=[{path:"/blob-viewer",component:function(){var e=Object(r.useState)(null),t=Object(p.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(null),u=Object(p.a)(o,2),s=u[0],l=u[1],h=Object(r.useState)(null),d=Object(p.a)(h,2),m=d[0],v=d[1],O=Object(r.useState)(void 0),g=Object(p.a)(O,2),j=g[0],C=g[1];Object(r.useEffect)((function(){n||(l(null),v(null),C(void 0))}),[n]),D((function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!s){t.next=5;break}return t.next=3,f.a.awrap(w.tree(s.owner.value,s.repo.value,s.branch.value));case 3:e=t.sent,v(e);case 5:case"end":return t.stop()}}))}),[s]);var x=Object(r.useCallback)((function(e){if(m){var t=m.tree.find((function(t){return t.path===e}));C(t?Object(i.a)({},t,{path:e}):void 0)}else C(void 0)}),[m]);return a.a.createElement("div",{className:F.a.BlobViewer},a.a.createElement("div",{className:F.a.sidebarWrapper},a.a.createElement(J,{tree:m,blob:j,visitPath:x})),a.a.createElement("div",{className:F.a.contentWrapper},a.a.createElement(_,{loginCallback:c}),a.a.createElement(S,{user:n,onRepoInfoChange:l}),a.a.createElement(M,{path:j?j.path:"",visitPath:x}),a.a.createElement(b.a,{blob:j})))}}],Z=function(){return a.a.createElement(u.a,null,a.a.createElement(s.d,null,Q.map((function(e){return a.a.createElement(s.b,{key:e.path,path:e.path,render:function(t){return a.a.createElement(e.component,t)}})})),a.a.createElement(s.a,{from:"*",to:"/blob-viewer/"})))},G=function(){return a.a.createElement(Z,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},26:function(e,t,n){"use strict";var r=n(3),a=n(0);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=Object(a.useState)(n),o=Object(r.a)(c,2),u=o[0],s=o[1];return Object(a.useEffect)((function(){Promise.resolve().then(e).then(s)}),t),u}},28:function(e,t,n){e.exports={Container:"Container_Container__1PsPU",ReactSelect:"Container_ReactSelect__2qTby"}},39:function(e,t,n){e.exports={Container:"Container_Container__1xchs",CodeMirror:"Container_CodeMirror__35fGV",textArea:"Container_textArea__3rPsr"}},40:function(e,t,n){e.exports={BlobViewer:"BlobViewer_BlobViewer__3TjFI",sidebarWrapper:"BlobViewer_sidebarWrapper__1w6UP",contentWrapper:"BlobViewer_contentWrapper__1s9ME"}},47:function(e,t,n){e.exports={Container:"Container_Container__3yJhZ",path:"Container_path__1ZK6-"}},48:function(e,t,n){e.exports={TreeNode:"TreeNode_TreeNode__3DTfP",current:"TreeNode_current__3BBzQ"}},49:function(e,t,n){e.exports={Container:"Container_Container__39U8O",current:"Container_current__2B6TT"}},66:function(e,t,n){"use strict";(function(e){var r=n(2),a=n.n(r),c=n(3),o=n(0),u=n.n(o),s=n(67),i=n.n(s),l=n(39),f=n.n(l),p=n(26),b=n(68);t.a=function(t){var n=t.blob,r=void 0===n?{}:n,s=Object(o.useRef)(null),l=Object(b.a)({textArea:s}),h=Object(c.a)(l,1)[0].codeMirrorRef,d=Object(p.a)((function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.content){t.next=2;break}return t.abrupt("return",null);case 2:return t.abrupt("return",i.a.fromBuffer(e.from(r.content,"base64")));case 3:case"end":return t.stop()}}))}),[r],null);return Object(o.useEffect)((function(){if("blob"===r.type&&r.content){var e=window.atob(r.content);h.current&&h.current.getDoc().setValue(e)}}),[h,r]),u.a.createElement("main",{className:f.a.Container},u.a.createElement("div",null,JSON.stringify(d)),u.a.createElement("div",{className:f.a.CodeMirror,style:"blob"!==r.type||d?{display:"none"}:{}},u.a.createElement("textarea",{className:f.a.textArea,ref:s})))}}).call(this,n(29).Buffer)},68:function(e,t,n){"use strict";var r=n(0),a=n(69),c=n.n(a);t.a=function(e){var t=e.textArea,n=Object(r.useRef)(null);return Object(r.useEffect)((function(){n.current&&!t.current||(n.current=c.a.fromTextArea(t.current,{mode:"javascript",theme:"the-matrix",smartIndent:!0,lineWrapping:!0,lineNumbers:!0,readOnly:!0,autofocus:!0}))}),[t,n]),[{codeMirrorRef:n}]}},75:function(e,t,n){e.exports=n(159)},80:function(e,t,n){}},[[75,1,2]]]);
//# sourceMappingURL=main.13373078.chunk.js.map